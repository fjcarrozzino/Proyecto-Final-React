(this.webpackJsonpproyectofinalcarrozzino=this.webpackJsonpproyectofinalcarrozzino||[]).push([[0],{34:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},50:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c.n(n),r=c(37),i=c.n(r),s=(c(47),c(15)),o=(c(48),c(38)),l=c(19),j=c(11),d=c(1),b=Object(n.createContext)(),m=function(e){var t=e.children,c=Object(n.useState)([]),a=Object(j.a)(c,2),r=a[0],i=a[1];return Object(d.jsx)(b.Provider,{value:{carrito:r,agregarAlCarrito:function(e){i([].concat(Object(l.a)(r),[e]))},removerDelCarrito:function(e){i(r.filter((function(t){return t.id!==e})))},vaciarCarrito:function(){i([])},isInCart:function(e){return r.some((function(t){return t.id===e}))},totalCantidad:function(){return r.reduce((function(e,t){return e+t.cantidad}),0)},totalCompra:function(){return r.reduce((function(e,t){return e+t.price*t.cantidad}),0)}},children:t})},u=(c(34),function(){var e=Object(n.useContext)(b),t=e.totalCantidad,c=e.carrito;return Object(d.jsx)("div",{className:0===c.length?"hidden":"",children:Object(d.jsxs)(s.b,{to:"/cart",children:[Object(d.jsx)(o.a,{className:"CartWidget"}),Object(d.jsx)("span",{className:"cantidad",children:t()})]})})}),O=(c(50),c(51),c.p+"static/media/lina.ccca0458.svg"),h=function(){return Object(d.jsxs)("div",{className:"navbar",children:[Object(d.jsx)("header",{className:"header-navbar",children:Object(d.jsx)("a",{href:"./",children:Object(d.jsx)(s.b,{to:"/",children:Object(d.jsx)("img",{className:"logo",src:O,alt:"logo"})})})}),Object(d.jsx)("nav",{className:"nav-navbar",children:Object(d.jsxs)("ul",{className:"ul-navbar",children:[Object(d.jsx)("li",{children:Object(d.jsx)(s.b,{to:"productos/Frutal",children:"Frutal"})}),Object(d.jsx)("li",{children:Object(d.jsx)(s.b,{to:"productos/Chocolate",children:"Chocolate"})}),Object(d.jsx)("li",{children:Object(d.jsx)(s.b,{to:"productos/Cheesecake",children:"Cheesecake"})}),Object(d.jsx)(u,{})]})})]})},x=c(5),f=c(13),p=c(39),v=(c(52),function(e){var t=e.name,c=e.price,a=e.cantidad,r=e.id,i=e.img,s=Object(n.useContext)(b).removerDelCarrito;return Object(d.jsxs)("div",{className:"card-item",children:[Object(d.jsx)("h3",{className:"titulo-cart",children:t}),Object(d.jsx)("img",{className:"img-cart",src:i,alt:t}),Object(d.jsxs)("p",{children:["Precio: $",c]}),Object(d.jsxs)("p",{children:["Cantidad: ",a]}),Object(d.jsx)("button",{className:"btn btn-danger boton-danger",onClick:function(){s(r)},children:Object(d.jsx)(p.a,{})})]})}),g=(c(53),function(){var e=Object(n.useContext)(b),t=e.carrito,c=e.vaciarCarrito,a=e.totalCompra;return Object(d.jsx)("div",{className:"container my-5 contenedor-cart",children:t.length>0?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h2",{children:" Carrito "}),Object(d.jsx)("div",{className:"my-5 card-cart",children:Object(d.jsxs)("section",{className:"card",children:[t.map((function(e){return Object(d.jsx)(v,Object(f.a)({},e),e.id)})),Object(d.jsx)("hr",{}),Object(d.jsxs)("div",{className:"card-cart",children:[Object(d.jsxs)("p",{children:[" Total: $",a()," "]}),Object(d.jsx)("button",{className:"btn btn-danger boton-vaciar",onClick:c,children:"Vaciar carrito"}),Object(d.jsx)(s.b,{to:"/checkout",className:"btn btn-success mx-2 boton-terminar",children:"Terminar mi compra "})]})]})})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h2",{children:"No agregaste items al carrito a\xfan"}),Object(d.jsx)("hr",{}),Object(d.jsx)(s.b,{to:"/",className:"btn btn-primary boton-volver-cart",children:"Volver"})]})})}),N=c(10),C=c.n(N),y=c(16),k=c(6),I=c(14),S=c(40),F=Object(S.a)({apiKey:"AIzaSyC8pLL1zTd3wJGo36DTBVR1z7Zr8RKmhdI",authDomain:"e-commerce-2b779.firebaseapp.com",projectId:"e-commerce-2b779",storageBucket:"e-commerce-2b779.appspot.com",messagingSenderId:"902316975873",appId:"1:902316975873:web:562b99f5908743b2d3dd00"}),A=Object(I.h)(F),E=c(22),w=c.n(E),z=function(e){return e.nombre.length<4?(w.a.fire({icon:"error",title:"Nombre inv\xe1lido"}),!1):e.apellido.length<4?(w.a.fire({icon:"error",title:"Apellido inv\xe1lido"}),!1):e.email.length<7?(w.a.fire({icon:"error",title:"Email inv\xe1lido"}),!1):e.emailConfirm===e.email||(w.a.fire({icon:"error",title:"Los emails no coinciden"}),!1)},D=(c(66),function(){var e=Object(n.useContext)(b),t=e.carrito,c=e.totalCompra,a=e.vaciarCarrito,r=Object(n.useState)({nombre:"",apellido:"",email:"",emailConfirm:""}),i=Object(j.a)(r,2),s=i[0],o=i[1],l=function(e){o(Object(f.a)(Object(f.a)({},s),{},Object(k.a)({},e.target.name,e.target.value)))},m=function(){var e=Object(y.a)(C.a.mark((function e(n){var r,i,o,l,j,d;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),z(s)){e.next=3;break}return e.abrupt("return");case 3:return r={buyer:Object(f.a)({},s),items:t,total:c(),date:I.a.fromDate(new Date)},i=Object(I.k)(A),o=Object(I.c)(A,"orders"),l=Object(I.c)(A,"productos"),j=Object(I.i)(l,Object(I.j)(Object(I.e)(),"in",t.map((function(e){return e.id})))),d=[],e.next=11,Object(I.g)(j);case 11:e.sent.docs.forEach((function(e){var c=t.find((function(t){return t.id===e.id}));e.data().stock>=c.cantidad?i.update(e.ref,{stock:e.data().stock-c.cantidad}):d.push(c)})),0===d.length?Object(I.b)(o,r).then((function(e){i.commit(),w.a.fire({icon:"success",title:"Su orden ha sido registrada",text:"Su n\xfamero de orden es: ".concat(e.id)}),a()})):w.a.fire({icon:"error",title:"No hay stock de los siguientes productos:",text:d.map((function(e){return e.name})).join(", ")});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)(d.Fragment,{children:0===t.length?Object(d.jsx)(x.a,{to:"/"}):Object(d.jsxs)("div",{className:"contenedor",children:[Object(d.jsx)("h2",{children:"Resumen de compra"}),Object(d.jsx)("div",{className:"div-checkout",children:Object(d.jsxs)("form",{className:"my-5 form-checkout",onSubmit:m,children:[Object(d.jsx)("input",{onChange:l,name:"nombre",value:s.nombre,className:"form-control my-2",type:"text",placeholder:"Nombre"}),s.nombre.length<4&&Object(d.jsx)("small",{children:"Nombre inv\xe1lido"}),Object(d.jsx)("input",{onChange:l,name:"apellido",value:s.apellido,className:"form-control my-2",type:"text",placeholder:"Apellido"}),s.apellido.length<4&&Object(d.jsx)("small",{children:"Apellido inv\xe1lido"}),Object(d.jsx)("input",{onChange:l,name:"email",value:s.email,className:"form-control my-2",type:"email",placeholder:"Email"}),s.email.length<4&&Object(d.jsx)("small",{children:"Email inv\xe1lido"}),Object(d.jsx)("input",{onChange:l,name:"emailConfirm",value:s.emailConfirm,className:"form-control my-2",type:"email",placeholder:"Repita email"}),s.emailConfirm!==s.email&&Object(d.jsx)("small",{children:"Email no coincide"}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary boton-enviar",children:"Enviar"})]})})]})})}),P=(c(67),function(e){var t=e.max,c=e.setCantidad,n=e.cantidad,a=e.onAdd,r=function(e,t,c,n){return{restar:{className:"btn ".concat(0===e?"btn-outline-danger":"btn-outline-primary"),onClick:n,disabled:0===e},sumar:{className:"btn ".concat(e===t?"btn-danger":"btn-primary"),onClick:c,disabled:e===t}}}(n,t,(function(){n<t&&c(n+1)}),(function(){n>0&&c(n-1)}));return Object(d.jsxs)("div",{className:"item-count",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("button",Object(f.a)(Object(f.a)({},r.restar),{},{children:"-"})),Object(d.jsx)("span",{className:"mx-2",children:n}),Object(d.jsx)("button",Object(f.a)(Object(f.a)({},r.sumar),{},{children:"+"}))]}),Object(d.jsx)("button",{className:"btn btn-success my-2",onClick:a,disabled:0===n,children:"Agregar al carrito"})]})}),T=(c(68),function(e){var t=e.id,c=e.name,a=e.img,r=e.desc,i=e.price,o=e.stock,l=Object(n.useContext)(b),m=l.agregarAlCarrito,u=l.isInCart,O=Object(x.e)(),h=Object(n.useState)(0),f=Object(j.a)(h,2),p=f[0],v=f[1];return Object(d.jsxs)("div",{className:"card contenedor-item-detail",children:[Object(d.jsx)("h2",{children:c}),Object(d.jsx)("img",{className:"item-detail-img",src:a,alt:c}),Object(d.jsx)("p",{children:r}),Object(d.jsxs)("p",{children:["Precio: $",i]}),u(t)?Object(d.jsx)(s.b,{to:"/cart",className:"btn btn-success d-block terminar-compra",children:"Terminar mi compra"}):Object(d.jsx)(P,{max:o,cantidad:p,setCantidad:v,onAdd:function(){p>0&&m({id:t,name:c,price:i,img:a,cantidad:p})}}),Object(d.jsxs)("div",{className:"botones-volver",children:[Object(d.jsx)("button",{className:"btn btn-primary",onClick:function(){O(-1)},children:"Volver"}),Object(d.jsx)("button",{className:"btn btn-primary",onClick:function(){O("/")},children:"Volver al Inicio"})]})]})}),V=c(75),L=(c(69),function(){return Object(d.jsx)("div",{className:"loader",children:Object(d.jsx)(V.a,{animation:"border",size:"lg",variant:"primary"})})}),B=(c(70),function(){var e=Object(n.useState)(),t=Object(j.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(),i=Object(j.a)(r,2),s=i[0],o=i[1],l=Object(x.f)().itemId;return Object(n.useEffect)((function(){o(!0);var e=Object(I.c)(A,"productos"),t=Object(I.d)(e,l);Object(I.f)(t).then((function(e){a(Object(f.a)({id:e.id},e.data()))})).finally((function(){o(!1)}))}),[l]),Object(d.jsx)("div",{className:"container my-5",children:s?Object(d.jsx)(L,{}):Object(d.jsx)(T,Object(f.a)({},c))})}),R=(c(71),function(e){var t=e.id,c=e.name,n=e.img,a=(e.desc,e.price);e.category;return Object(d.jsxs)("article",{className:"card m-3 card-item",style:{width:"25rem"},children:[Object(d.jsx)("img",{className:"img-card",src:n,alt:c}),Object(d.jsxs)("div",{className:"card-body card-item2",children:[Object(d.jsx)("h3",{className:"card-title",children:c}),Object(d.jsxs)("p",{className:"card-text",children:["Precio: $",a]}),Object(d.jsx)(s.b,{to:"/detail/".concat(t),className:"btn btn-primary",children:"Ver m\xe1s"})]})]},t)}),$=(c(72),function(e){var t=e.items;return Object(d.jsxs)("div",{className:"contenedor",children:[Object(d.jsx)("h2",{children:"Productos"}),console.log(t),Object(d.jsx)("div",{className:"grid-items",children:t.map((function(e){return Object(d.jsx)(R,Object(f.a)({},e),e.id)}))})]})}),J=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),i=Object(j.a)(r,2),s=i[0],o=i[1],l=Object(x.f)().catId;return Object(n.useEffect)((function(){a(!0);var e=Object(I.c)(A,"productos"),t=l?Object(I.i)(e,Object(I.j)("category","==",l)):e;Object(I.g)(t).then((function(e){var t=e.docs.map((function(e){return Object(f.a)({id:e.id},e.data())}));o(t)})).finally((function(){a(!1)}))}),[l]),Object(d.jsx)(d.Fragment,{children:c?Object(d.jsx)(L,{}):Object(d.jsx)($,{items:s})})},K=function(){return Object(x.h)([{path:"/",element:Object(d.jsx)(J,{})},{path:"/productos/:catId",element:Object(d.jsx)(J,{})},{path:"/detail/:itemId",element:Object(d.jsx)(B,{})},{path:"/cart",element:Object(d.jsx)(g,{})},{path:"/checkout",element:Object(d.jsx)(D,{})},{path:"*",element:Object(d.jsx)(x.a,{to:"/"})}])};var G=function(){return Object(d.jsx)(m,{children:Object(d.jsxs)(s.a,{children:[Object(d.jsx)(h,{}),Object(d.jsx)(K,{})]})})},M=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,76)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(G,{})}),document.getElementById("root")),M()}},[[73,1,2]]]);
//# sourceMappingURL=main.98183317.chunk.js.map